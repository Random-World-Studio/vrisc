# 中断

中断是提供给软件开发者以处理机器异常以及接收用户输入的机制。

触发中断的条件有以下两种：

* 机器异常
* 外部设备通信

中断产生后，机器将ip存于x0寄存器，flg存于x1寄存器，随后机器陷入内核态并关闭中断使能标志位。

使用`iret`从中断返回，返回时将从x0和x1寄存器恢复ip和flg。

每个中断号代表的含义如下：

中断号|描述
:-:|:-
0   |除数为零
1   |地址无效
2   |外部设备中断
3   |时钟
4   |无效指令
5   |权限错误
6   |io端口无效
